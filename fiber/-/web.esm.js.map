{"version":3,"sources":["-","mol.ts","../../mol.web.jam.js","../../func/name/name.ts","../../fail/fail.ts","../../fail/fail.web.ts","../../ambient/ambient.ts","../../object2/object2.ts","../../const/const.ts","../../log/log.ts","../../log/log_context.ts","../../log/log_debug.web.ts","../../log/log_filter.web.ts","../../log/log_group.ts","../fiber.ts"],"names":[],"mappings":"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","file":"web.esm.js","sourcesContent":[null,"declare namespace $ {}\nexport = $\n\n",null,"namespace $ {\n\t\n\texport function $mol_func_name( func : Function ) : string {\n\t\treturn func.name\n\t}\n\n\texport function $mol_func_name_from< Target extends Function >( target : Target , source : Function ) {\n\t\tObject.defineProperty( target , 'name' , { value : source.name } )\n\t\treturn target\n\t}\n\n}\n","namespace $ {\n\n\texport let $mol_fail_catched = new WeakSet< any >()\n\n\texport function $mol_fail_hidden( error : any ) : never {\n\t\tthrow error /// Use 'Never Pause Here' breakpoint in DevTools\n\t}\n\n}\n","namespace $ {\n\n\tself.addEventListener( 'error' , event => {\n\n\t\tif( !event.error ) return\n\n\t\tif( 'then' in event.error || $mol_fail_catched.has( event.error ) ) {\n\t\t\tevent.preventDefault()\n\t\t}\n\n\t\t$mol_fail_catched.add( event.error )\n\n\t} )\n\n\tself.addEventListener( 'unhandledrejection' , event => {\n\n\t\tif( !event.reason ) return\n\n\t\tif( 'then' in event.reason || $mol_fail_catched.has( event.reason ) ) {\n\t\t\tevent.preventDefault()\n\t\t}\n\n\t\t$mol_fail_catched.add( event.reason )\n\n\t} )\n\n}\n","namespace $ {\n\n\texport type $mol_ambient_context = Window & {\n\t\tPromise : PromiseConstructor\n\t\tMath : Math\n\t\tXMLHttpRequest : typeof XMLHttpRequest\n\t} & ( typeof $.$$ ) & ( typeof $ )\n\n\texport function $mol_ambient( overrides : Partial< $mol_ambient_context > ) : $mol_ambient_context {\n\t\treturn Object.setPrototypeOf( overrides , this )\n    }\n    \n}\n","namespace $ {\n\n\texport namespace $$ { let $ }\n\n\texport class $mol_object2 {\n\t\t\n\t\tstatic $ = $ as $mol_ambient_context\n\t\tstatic get $$() { return this.$ }\n\n\t\t$ = this.constructor['$'] as typeof $mol_object2.$\n\t\tget $$() { return this.$ }\n\n\t\tpublic static make< Instance >( this : { new() : Instance } , init? : ( instance : Instance )=> void  ) : Instance {\n\t\t\tconst instance = new this\n\t\t\tif( init ) init( instance )\n\t\t\treturn instance\n\t\t}\n\t\t\n\t\tstatic toString() { return this.name }\n\n\t\tdestructor() { }\n\n\t\t[ Symbol.toStringTag ] = `${ this.constructor }.make()`\n\t\t\n\t\ttoString() {\n\t\t\treturn this[ Symbol.toStringTag ]\n\t\t}\n\t\t\n\t}\n\t\n}\n","namespace $ { \n\texport function $mol_const< Value >( value : Value ) {\n\t\tvar getter = <{ () : Value , '()' : Value }> ( () => value )\n\t\tgetter['()'] = value\n\t\treturn getter\n\t}\n}\n","namespace $ {\n\n\texport function $mol_log( path : any , ... values : any[] ) {\n\t\t\n\t\tif( $mol_log_filter() == null ) return\n\t\t\n\t\tpath = String( path )\n\t\tif( path.indexOf( $mol_log_filter() ) === -1 ) return\n\t\t\n\t\tif( $mol_log_context() ) $mol_log_context()()\n\t\t\n\t\tconsole.debug( path , ... values )\n\n\t\tif( $mol_log_debug() == null ) return\n\t\tif( path.indexOf( $mol_log_debug() ) === -1 ) return\n\t\t\n\t\tdebugger\n\t}\n\t\n}\n","namespace $ {\n\n\tlet context : ()=> void = null\n\texport function $mol_log_context( next = context ) {\n\t\treturn context = next\n\t}\n\n}\n","namespace $ {\n\t\n\texport function $mol_log_debug( next? : string ) {\n\n\t\tif( next !== undefined ) {\n\t\t\tif( next == null ) {\n\t\t\t\tsessionStorage.removeItem( '$mol_log_debug()' )\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem( '$mol_log_debug()' , next )\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn sessionStorage.getItem( '$mol_log_debug()' )\n\t}\n\n}\n","namespace $ {\n\t\n\tlet filter : string\n\texport var $mol_log_filter = function $mol_log_filter( next? : string ) {\n\n\t\tif( next !== undefined ) {\n\t\t\tif( next == null ) {\n\t\t\t\tsessionStorage.removeItem( '$mol_log_filter()' )\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem( '$mol_log_filter()' , next )\n\t\t\t}\n\n\t\t\tfilter = next\n\t\t}\n\n\t\tif( filter !== undefined ) return filter\n\t\t\n\t\treturn filter = sessionStorage.getItem( '$mol_log_filter()' )\n\t}\n\n\tif( typeof sessionStorage === 'undefined' ) $mol_log_filter = ( next? : string )=> filter = next\n\n\tif( $mol_log_filter() == null ) console.info( 'Use $mol_log_filter( needle : string|null ) to toggle logs' )\n\t\n}\n","namespace $ {\n\n\texport function $mol_log_group< Task extends Function >( name : string , task : Task ) {\n\t\t\n\t\treturn function $mol_log_group_wrapper( ... args : any [] ) {\n\n\t\t\tconst filter = $mol_log_filter()\n\t\t\tif( filter == null ) return task.apply( this , args )\n\n\t\t\tlet started = false\n\t\t\tlet prev = $mol_log_context()\n\n\t\t\t$mol_log_context( ()=> {\n\t\t\t\tif( prev ) prev()\n\t\t\t\tstarted = true\n\n\t\t\t\tif( filter ) console.group( name )\n\t\t\t\telse console.groupCollapsed( name )\n\n\t\t\t\t$mol_log_context( prev = null )\n\t\t\t} )\n\t\t\t\n\t\t\ttry {\n\t\t\t\treturn task.apply( this , args )\n\t\t\t} finally {\n\t\t\t\tif( started ) console.groupEnd()\n\t\t\t\t$mol_log_context( prev )\n\t\t\t}\n\n\t\t} as any as Task\n\n\t}\n\n}\n","namespace $ {\n\n\texport let $mol_fiber_stack = [] as $mol_fiber[]\n\n\texport function $mol_fiber_make< Result = void >( handler : ()=> Result , abort? : void | ( ()=> void ) ) {\n\t\tif( $mol_fiber.current ) $mol_fiber.current.step()\n\n\t\tlet master = $mol_fiber.current && $mol_fiber.current.master as $mol_fiber< Result >\n\t\tif( master ) return master \n\t\t\n\t\tconst id = `${ $mol_fiber.current || '$mol_fiber' }/${ $mol_fiber.current ? $mol_fiber.current.cursor : '' }:${ $mol_func_name( handler ) }`\n\t\treturn new $mol_fiber< Result >( id , $mol_fiber.current , handler , abort )\n\t}\n\t\n\texport function $mol_fiber_start< Result = void >( handler : ()=> Result ) {\n\t\treturn $mol_fiber_make( handler ).start()\n\t}\n\n\texport function $mol_fiber_defer< Result = void >( handler : ()=> Result ) {\n\t\tconst fiber = $mol_fiber_make( handler )\n\t\tfiber.schedule().then( fiber.start.bind( fiber ) )\n\t}\n\n\texport function $mol_fiber_func< Handler extends ( ... args : any[] )=> Result , Result = void >( handler : Handler ) {\n\t\treturn function $mol_fiber_func_wrapper( ... args : any[] ) {\n\t\t\treturn $mol_fiber_make( $mol_func_name_from( handler.bind( this , ... args ) as ()=> Result , handler ) ).start()\n\t\t} as Handler\n\t}\n\n\texport function $mol_fiber_method< Host , Result >(\n\t\tobj : Host ,\n\t\tname : string ,\n\t\tdescr : TypedPropertyDescriptor< ( ... args : any[] )=> Result >\n\t) {\n\t\tconst value = descr.value\n\t\tdescr.value = function $mol_fiber_method_wrapper( ... args : any[] ) {\n\t\t\tconst handler = value.bind( this , ... args ) as ()=> Result\n\t\t\thandler[ Symbol.toStringTag ] = `${ this }.${ name }()`\n\t\t\treturn $mol_fiber_start( handler )\n\t\t}\n\t}\n\n\texport function $mol_fiber_sync< Args extends any[] , Result = void >(\n\t\trequest : ( ... args : Args )=> PromiseLike< Result >\n\t) : ( ... args : Args )=> Result {\n\n\t\treturn function $mol_fiber_sync_wrapper( ... args : Args ) {\n\n\t\t\tconst fiber = $mol_fiber_make< Result >( $mol_func_name_from( ()=> {\n\t\t\t\treturn $mol_fail_hidden( request( ... args ).then(\n\t\t\t\t\tres => { fiber.done( res ) } ,\n\t\t\t\t\terror => { fiber.fail( error ) } ,\n\t\t\t\t) )\n\t\t\t} , request ) )\n\n\t\t\treturn fiber.start()\n\t\t}\n\n\t}\n\n\texport function $mol_fiber_async< Result = void >(\n\t\trequest : (\n\t\t\tback : (\n\t\t\t\tresponse :  ( ... args : any[] )=> Result\n\t\t\t)=> ( ... args : any[] )=> void\n\t\t)=> { (): any } | void\n\t) : Result {\n\n\t\tconst fiber = $mol_fiber_make< Result >( $mol_func_name_from( ()=> {\n\t\t\t\n\t\t\tconst promise = new Promise( ( done , fail )=> {\n\n\t\t\t\tfiber.abort = request( response => ( ... args : any[] )=> {\n\t\t\t\n\t\t\t\t\tif( !fiber.masters ) return\n\t\t\n\t\t\t\t\tnew Promise( ()=> {\n\t\t\t\t\t\tfiber.done( response( ... args ) )\n\t\t\t\t\t} ).catch( error => {\n\t\t\t\t\t\tfiber.fail( error )\n\t\t\t\t\t} )\n\n\t\t\t\t\tif( fiber.slave ) fiber.slave.start()\n\t\t\n\t\t\t\t} )\n\n\t\t\t} )\n\n\t\t\treturn $mol_fail_hidden( promise )\n\n\t\t} , request ) )\n\n\t\treturn fiber.start()\n\n\t}\n\n\texport function $mol_fiber_warp() {\n\t\twhile( $mol_fiber.queue.length ) $mol_fiber.tick()\n\t}\n\n\texport function $mol_fiber_fence( func : ()=> any ) {\n\t\tconst prev = $mol_fiber.current\n\t\ttry {\n\t\t\t$mol_fiber.current = null\n\t\t\tfunc()\n\t\t} finally {\n\t\t\t$mol_fiber.current = prev\n\t\t}\n\t}\n\n\texport class $mol_fiber< Result = any > extends $mol_object2 {\n\n\t\tstatic quant = 8\n\n\t\tstatic current : $mol_fiber\n\t\t\n\t\tstatic scheduled = 0\n\t\tstatic deadline = Date.now() + $mol_fiber.quant\n\n\t\tstatic tick() {\n\n\t\t\t$mol_fiber.deadline = Date.now() + $mol_fiber.quant\n\t\n\t\t\tif( $mol_fiber.queue.length == 0 ) return\n\n\t\t\twhile( true ) {\n\t\t\t\tconst resolve = $mol_fiber.queue.shift()\n\t\t\t\tif( resolve ) resolve()\n\t\t\t\telse break\n\t\t\t}\n\t\t}\n\n\t\tstatic schedule() {\n\t\t\tif( $mol_fiber.scheduled ) return\n\n\t\t\tconst schedule = this.$.requestAnimationFrame || this.$.setTimeout\n\n\t\t\t$mol_fiber.scheduled = schedule( ()=> {\n\t\t\t\t$mol_fiber.scheduled = 0\n\t\t\t\t$mol_fiber.tick()\n\t\t\t} )\n\t\t}\n\n\t\tstatic queue = [] as ( ()=> void )[]\n\n\t\tconstructor(\n\t\t\tid : string ,\n\t\t\tpublic slave : $mol_fiber ,\n\t\t\tpublic handler : ()=> Result ,\n\t\t\tpublic abort? : void | ( ()=> void ) ,\n\t\t) {\n\t\t\tsuper()\n\t\t\t\n\t\t\tthis.toString = $mol_const( id )\n\n\t\t\tif( slave ) {\n\t\t\t\tslave.master = this\n\t\t\t\tthis.$ = slave.$\n\t\t\t}\n\t\t}\n\n\t\tdestructor() {\n\t\t\tif( !this.masters ) return\n\n\t\t\tfor( let master of this.masters ) master.destructor()\t\t\t\n\t\t\tthis.masters = null\n\n\t\t\tif( this.abort ) this.abort()\n\t\t}\n\n\t\tmasters = [] as $mol_fiber[]\n\t\tcursor = -1\n\n\t\terror : Error | Promise< Result > = undefined\n\t\tresult : Result = undefined\n\n\t\tprotected _done : ( result : Result )=> void\n\n\t\tdone( result : Result ) {\n\t\t\tif( !this.masters ) return\n\n\t\t\tthis.result = result\n\t\t\tthis.error = null\n\t\t\tthis.abort = null\n\t\t\tthis.destructor()\n\t\t\t\n\t\t\tthis.$.$mol_log( this , result )\n\n\t\t\treturn result\n\t\t}\n\n\t\tstatic catched = new WeakSet\n\n\t\tfail( error : Error | Promise<Result> ) : Error | Promise<Result> {\n\t\t\tif( !this.masters ) return\n\t\t\t\n\t\t\tif( 'then' in error ) {\n\n\t\t\t\tconst listener = this.start.bind( this )\n\t\t\t\terror = error.then( listener , listener )\n\t\t\t\n\t\t\t} else {\n\n\t\t\t\tif( !$mol_fiber.catched.has( error ) ) {\n\t\t\t\t\tif( error.stack ) error.stack = error.stack.replace( /.*\\$mol_fiber.*[\\n\\r]*/g , '' )\n\t\t\t\t\t$mol_fiber.catched.add( error )\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.abort = null\n\t\t\t\tthis.destructor()\n\t\n\t\t\t}\n\n\t\t\tthis.error = error\t\t\t\n\t\t\tthis.$.$mol_log( this , error )\n\n\t\t\treturn error\n\t\t}\n\n\t\tschedule() {\n\t\t\treturn new Promise( done => {\n\t\t\t\t$mol_fiber.queue.push( done )\n\t\t\t\t$mol_fiber.schedule()\n\t\t\t} )\n\t\t}\n\n\t\tlimit() {\n\n\t\t\tconst now = Date.now()\n\t\t\tif( now <= $mol_fiber.deadline ) return\n\n\t\t\tif( !$mol_fiber.current && $mol_fiber.queue.length === 0 ) {\n\t\t\t\t$mol_fiber.deadline = now + $mol_fiber.quant\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t$mol_fail_hidden( this.schedule() )\n\t\t}\n\n\t\tstart() {\n\n\t\t\tif( this.masters ) {\n\n\t\t\t\tthis.$.$mol_log( this , 'start' )\n\n\t\t\t\tconst slave = $mol_fiber.current\n\n\t\t\t\ttry {\n\t\t\t\t\t\n\t\t\t\t\tthis.cursor = -1\n\t\t\t\t\tthis.error = undefined\n\t\t\t\t\t\n\t\t\t\t\tthis.limit()\n\t\t\t\t\t\n\t\t\t\t\t$mol_fiber.current = this\n\n\t\t\t\t\tthis.done( this.handler() )\n\n\t\t\t\t} catch( error ) {\n\t\t\t\t\tthis.fail( error )\n\t\t\t\t} finally {\n\t\t\t\t\t$mol_fiber.current = slave\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif( this.error ) $mol_fail_hidden( this.error )\n\t\t\treturn this.result\n\n\t\t}\n\n\t\tstep() {\n\t\t\treturn ++ this.cursor\n\t\t}\n\n\t\tget master() {\n\t\t\treturn this.masters[ this.cursor ]\n\t\t}\n\t\tset master( next : $mol_fiber ) {\n\t\t\tthis.masters[ this.cursor ] = next\n\t\t}\n\n\t}\n\n}\n"]}